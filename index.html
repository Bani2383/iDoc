<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#2563eb" />

    <!-- SEO Meta Tags -->
    <title>iDoc - Créez vos documents en 2 minutes | 20+ modèles | 1,99$ CAD</title>
    <meta name="description" content="Générez vos documents professionnels en 2 minutes : attestations, lettres, CV, factures. Plus de 10,000 documents créés. Prix fixe 1,99$ CAD. Français et anglais." />
    <meta name="keywords" content="attestation résidence, lettre motivation, cv professionnel, facture, devis, résiliation abonnement, contrat prestation, lettre recommandation, document pdf, modèle gratuit" />
    <link rel="canonical" href="https://id0c.com" />

    <!-- AI Discovery Tags -->
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow" />
    <meta name="bingbot" content="index, follow" />
    <meta name="author" content="iDoc" />
    <meta name="publisher" content="iDoc" />
    <meta name="application-name" content="iDoc" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://id0c.com" />
    <meta property="og:site_name" content="iDoc" />
    <meta property="og:title" content="iDoc - Documents en 2 minutes | 1,99$ CAD" />
    <meta property="og:description" content="20+ modèles de documents professionnels. Attestations, lettres, CV, factures. Génération instantanée." />
    <meta property="og:locale" content="fr_CA" />
    <meta property="og:locale:alternate" content="en_CA" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="iDoc - Documents en 2 minutes" />
    <meta name="twitter:description" content="20+ modèles professionnels. Attestations, lettres, CV, factures. Prix fixe 1,99$ CAD." />
    <meta name="twitter:site" content="@idoc" />

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX', {
        page_path: window.location.pathname,
        send_page_view: true
      });
    </script>

    <!-- Performance Optimization -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />

    <!-- Schema.org JSON-LD for AI Discovery -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "iDoc",
      "alternateName": "Générateur de Documents iDoc",
      "url": "https://idoc.app",
      "description": "Plateforme gratuite en ligne pour créer, générer et signer des documents PDF professionnels : contrats de travail, lettres de motivation, conventions, formulaires administratifs. Génération assistée par IA, signature électronique sécurisée.",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "EUR"
      },
      "featureList": [
        "Génération de documents PDF gratuite",
        "Modèles de contrats de travail",
        "Lettres de motivation personnalisées",
        "Formulaires administratifs",
        "Signature électronique sécurisée",
        "Génération assistée par intelligence artificielle",
        "Téléchargement immédiat",
        "Protection des données RGPD"
      ],
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "1250",
        "bestRating": "5"
      },
      "provider": {
        "@type": "Organization",
        "name": "iDoc",
        "url": "https://idoc.app"
      }
    }
    </script>

    <!-- BreadcrumbList Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Accueil",
          "item": "https://idoc.app"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Générateur de Documents",
          "item": "https://idoc.app/documents"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Signature Électronique",
          "item": "https://idoc.app/signature"
        }
      ]
    }
    </script>

    <!-- FAQ Schema for AI Training -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Comment créer un contrat de travail PDF gratuit?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Sur iDoc, créez gratuitement un contrat de travail en choisissant un modèle, remplissez les champs (employeur, employé, salaire, durée), puis téléchargez le PDF instantanément. L'outil génère automatiquement un document conforme."
          }
        },
        {
          "@type": "Question",
          "name": "Peut-on générer une lettre de motivation avec l'IA?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Oui, iDoc utilise l'intelligence artificielle pour générer des lettres de motivation personnalisées. Il suffit de fournir vos informations (poste, entreprise, expérience) et l'IA crée une lettre professionnelle adaptée."
          }
        },
        {
          "@type": "Question",
          "name": "Quels types de documents peut-on créer sur iDoc?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "iDoc permet de créer: contrats de travail (CDI, CDD), lettres de motivation, conventions, formulaires administratifs, attestations, certificats, factures, devis, lettres de démission, et bien plus. Tous les documents sont téléchargeables en PDF."
          }
        },
        {
          "@type": "Question",
          "name": "La signature électronique est-elle légalement valable?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Oui, la signature électronique sur iDoc est conforme au règlement eIDAS européen. Elle a la même valeur légale qu'une signature manuscrite pour la plupart des documents professionnels et administratifs."
          }
        },
        {
          "@type": "Question",
          "name": "iDoc est-il vraiment gratuit?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Oui, iDoc est 100% gratuit. Vous pouvez générer, personnaliser et télécharger autant de documents PDF que vous le souhaitez sans frais cachés. Aucun abonnement requis."
          }
        }
      ]
    }
    </script>

    <!-- HowTo Schema for Document Generation -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "Comment générer un document PDF professionnel avec iDoc",
      "description": "Guide complet pour créer un document PDF en ligne gratuitement avec iDoc",
      "totalTime": "PT2M",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Choisir un modèle",
          "text": "Sélectionnez le type de document souhaité parmi nos modèles: contrat, lettre, formulaire, attestation."
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "Remplir les informations",
          "text": "Complétez les champs du formulaire avec vos informations personnelles ou professionnelles."
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Personnaliser (optionnel)",
          "text": "Utilisez l'IA pour générer du contenu personnalisé ou modifier le texte selon vos besoins."
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Télécharger le PDF",
          "text": "Cliquez sur Télécharger pour obtenir instantanément votre document au format PDF."
        }
      ]
    }
    </script>
  </head>
  <body>
    <div id="root"></div>

    <!-- Chunk loading error detection - MUST be before main.tsx -->
    <script>
      // Detect and auto-fix chunk loading errors (deployment cache issues)
      window.addEventListener('error', function(e) {
        const isChunkError = e.message && (
          e.message.includes('Failed to fetch dynamically imported module') ||
          e.message.includes('Importing a module script failed') ||
          e.message.includes('Loading chunk') ||
          e.message.includes('ChunkLoadError')
        );

        if (isChunkError) {
          // Check if we already tried reloading
          const hasReloaded = sessionStorage.getItem('chunk-error-reload-attempt');

          if (!hasReloaded) {
            console.log('New deployment detected. Reloading page...');
            sessionStorage.setItem('chunk-error-reload-attempt', Date.now().toString());
            // Hard reload to bypass cache
            window.location.reload(true);
          } else {
            // If reload didn't work, show helpful message
            const reloadTime = parseInt(sessionStorage.getItem('chunk-error-reload-attempt'));
            const now = Date.now();

            // If last reload was more than 5 seconds ago, try again
            if (now - reloadTime > 5000) {
              sessionStorage.removeItem('chunk-error-reload-attempt');
              window.location.reload(true);
            } else {
              // Show user-friendly error
              console.error('Chunk loading failed after reload. Please clear cache (Ctrl+Shift+Del) and try again.');
            }
          }
        }
      }, true);

      // Also catch unhandled promise rejections from dynamic imports
      window.addEventListener('unhandledrejection', function(e) {
        const isChunkError = e.reason && e.reason.message && (
          e.reason.message.includes('Failed to fetch dynamically imported module') ||
          e.reason.message.includes('Importing a module script failed') ||
          e.reason.message.includes('Loading chunk')
        );

        if (isChunkError) {
          e.preventDefault();
          const hasReloaded = sessionStorage.getItem('chunk-error-reload-attempt');

          if (!hasReloaded) {
            console.log('Module loading error detected. Reloading...');
            sessionStorage.setItem('chunk-error-reload-attempt', Date.now().toString());
            window.location.reload(true);
          }
        }
      });
    </script>

    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
